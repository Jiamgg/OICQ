System.register(["./index-legacy-9f6dbbc6.js","./use-touch-legacy-8d5dbd6a.js","./index-legacy-324c405b.js","./index-legacy-637d5e1f.js"],(function(e,t){"use strict";var a,s,n,r,l,i,o,u,d,c,h,g,v,p,f,m;return{setters:[e=>{a=e.d,s=e.r,n=e.R,r=e.x,l=e.z,i=e.D,o=e.c,u=e.B},e=>{d=e.u},e=>{c=e.L},e=>{h=e.c,g=e.m,v=e.n,p=e.i,f=e.p,m=e.w}],execute:function(){var t=document.createElement("style");t.textContent=":root{--van-pull-refresh-head-height: 1.33333rem;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: .42667rem}.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;transition-property:transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(t);const[x,D,T]=h("pull-refresh"),y=["pulling","loosing","success"],z={disabled:Boolean,modelValue:Boolean,headHeight:g(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:v,successDuration:g(500),animationDuration:g(300)};var _=a({name:x,props:z,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let h;const g=s(),v=s(),m=n(g),x=r({status:"normal",distance:0,duration:0}),z=d(),_=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},H=()=>"loading"!==x.status&&"success"!==x.status&&!e.disabled,w=(a,s)=>{const n=+(e.pullDistance||e.headHeight);x.distance=a,x.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:x.status,distance:a})},S=()=>{const{status:t}=x;return"normal"===t?"":e[`${t}Text`]||T(t)},V=()=>{const{status:e,distance:t}=x;if(a[e])return a[e]({distance:t});const s=[];return y.includes(e)&&s.push(o("div",{class:D("text")},[S()])),"loading"===e&&s.push(o(c,{class:D("loading")},{default:S})),s},b=e=>{h=0===p(m.value),h&&(x.duration=0,z.start(e))},j=e=>{H()&&b(e)},$=()=>{h&&z.deltaY.value&&H()&&(x.duration=+e.animationDuration,"loosing"===x.status?(w(+e.headHeight,!0),t("update:modelValue",!0),u((()=>t("refresh")))):w(0))};return l((()=>e.modelValue),(t=>{x.duration=+e.animationDuration,t?w(+e.headHeight,!0):a.success||e.successText?(x.status="success",setTimeout((()=>{w(0)}),+e.successDuration)):w(0,!1)})),i("touchmove",(t=>{if(H()){h||b(t);const{deltaY:a}=z;z.move(t),h&&a.value>=0&&z.isVertical()&&(f(t),w((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}}),{target:v}),()=>{var e;const t={transitionDuration:`${x.duration}ms`,transform:x.distance?`translate3d(0,${x.distance}px, 0)`:""};return o("div",{ref:g,class:D()},[o("div",{ref:v,class:D("track"),style:t,onTouchstartPassive:j,onTouchend:$,onTouchcancel:$},[o("div",{class:D("head"),style:_()},[V()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",m(_))}}}));
