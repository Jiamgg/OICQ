System.register(["./index-legacy-9f6dbbc6.js","./use-expose-legacy-1bbef095.js","./index-legacy-637d5e1f.js","./use-touch-legacy-8d5dbd6a.js","./index-legacy-324c405b.js"],(function(e,o){"use strict";var t,n,s,l,a,r,c,i,d,u,p,v,m,y,f,g,h,w,k,b,C,x,O,S,I,B,z,P,j,A,L,T,E,N,R,D,H,U,$,F,M,K,Q,V,X;return{setters:[e=>{t=e.Q,n=e.O,s=e.P,l=e.z,a=e.a2,r=e.r,c=e.d,i=e.D,d=e.c,u=e.a3,p=e.e,v=e.s,m=e.X,y=e.a0,f=e.b,g=e.A,h=e.U,w=e.y,k=e.a4,b=e.F,C=e.B,x=e.m,O=e.a5,S=e.a1,I=e.a6,B=e.x,z=e.N,P=e.i,j=e.g},e=>{A=e.u,L=e.c},e=>{T=e.n,E=e.t,N=e.u,R=e.p,D=e.c,H=e.g,U=e.w,$=e.b,F=e.H,M=e.I,K=e.z},e=>{Q=e.u,V=e.P},e=>{X=e.L}],execute:function(){e("a",we);let o=2e3;const Y={show:Boolean,zIndex:T,overlay:E,duration:T,teleport:[String,Object],lockScroll:E,lazyRender:E,beforeClose:Function,overlayStyle:Object,overlayClass:N,transitionAppear:Boolean,closeOnClickOverlay:E};let q=0;const G="van-overflow-hidden";function J(e){const o=r(!1);return l(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}const[W,Z]=D("overlay"),_={show:Boolean,zIndex:T,duration:T,className:N,lockScroll:E,lazyRender:E,customStyle:Object};var ee=c({name:W,props:_,setup(e,{slots:o}){const t=r(),n=J((()=>e.show||!e.lazyRender))((()=>{var n;const s=p(H(e.zIndex),e.customStyle);return v(e.duration)&&(s.animationDuration=`${e.duration}s`),m(d("div",{ref:t,style:s,class:[Z(),e.className]},[null==(n=o.default)?void 0:n.call(o)]),[[y,e.show]])}));return i("touchmove",(o=>{e.lockScroll&&R(o,!0)}),{target:t}),()=>d(u,{name:"van-fade",appear:!0},{default:n})}});const oe=U(ee),te=p({},Y,{round:Boolean,position:$("center"),closeIcon:$("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:$("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[ne,se]=D("popup");var le=c({name:ne,inheritAttrs:!1,props:te,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:c,attrs:p,slots:O}){let S,I;const B=r(),z=r(),P=J((()=>e.show||!e.lazyRender)),j=f((()=>{const o={zIndex:B.value};return v(e.duration)&&(o["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`),o})),T=()=>{S||(S=!0,B.value=void 0!==e.zIndex?+e.zIndex:++o,c("open"))},E=()=>{S&&L(e.beforeClose,{done(){S=!1,c("close"),c("update:show",!1)}})},N=o=>{c("clickOverlay",o),e.closeOnClickOverlay&&E()},D=()=>{if(e.overlay)return d(oe,{show:e.show,class:e.overlayClass,zIndex:B.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:N},{default:O["overlay-content"]})},H=e=>{c("clickCloseIcon",e),E()},U=()=>{if(e.closeable)return d(M,{role:"button",tabindex:0,name:e.closeIcon,class:[se("close-icon",e.closeIconPosition),F],classPrefix:e.iconPrefix,onClick:H},null)};let $;const K=()=>{$&&clearTimeout($),$=setTimeout((()=>{c("opened")}))},X=()=>c("closed"),Y=e=>c("keydown",e),W=P((()=>{var o;const{round:t,position:n,safeAreaInsetTop:s,safeAreaInsetBottom:l}=e;return m(d("div",x({ref:z,style:j.value,role:"dialog",tabindex:0,class:[se({round:t,[n]:n}),{"van-safe-area-top":s,"van-safe-area-bottom":l}],onKeydown:Y},p),[null==(o=O.default)?void 0:o.call(O),U()]),[[y,e.show]])})),Z=()=>{const{position:o,transition:t,transitionAppear:n}=e;return d(u,{name:t||("center"===o?"van-fade":`van-popup-slide-${o}`),appear:n,onAfterEnter:K,onAfterLeave:X},{default:W})};return l((()=>e.show),(e=>{e&&!S&&(T(),0===p.tabindex&&C((()=>{var e;null==(e=z.value)||e.focus()}))),!e&&S&&(S=!1,c("close"))})),A({popupRef:z}),function(e,o){const r=Q(),c=o=>{r.move(o);const t=r.deltaY.value>0?"10":"01",n=a(o.target,e.value),{scrollHeight:s,offsetHeight:l,scrollTop:c}=n;let i="11";0===c?i=l>=s?"00":"01":c+l>=s&&(i="10"),"11"===i||!r.isVertical()||parseInt(i,2)&parseInt(t,2)||R(o,!0)},i=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",c,{passive:!1}),q||document.body.classList.add(G),q++},d=()=>{q&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",c),q--,q||document.body.classList.remove(G))},u=()=>o()&&d();t((()=>o()&&i())),n(u),s(u),l(o,(e=>{e?i():d()}))}(z,(()=>e.show&&e.lockScroll)),i("popstate",(()=>{e.closeOnPopstate&&(E(),I=!1)})),g((()=>{e.show&&T()})),h((()=>{I&&(c("update:show",!0),I=!1)})),n((()=>{e.show&&e.teleport&&(E(),I=!0)})),w(V,(()=>e.show)),()=>e.teleport?d(k,{to:e.teleport},{default:()=>[D(),Z()]}):d(b,null,[D(),Z()])}});const ae=e("P",U(le));let re=0;const[ce,ie]=D("toast"),de=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],ue={icon:String,show:Boolean,type:$("text"),overlay:Boolean,message:T,iconSize:T,duration:K(2e3),position:$("middle"),teleport:[String,Object],wordBreak:String,className:N,iconPrefix:String,transition:$("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:N,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var pe=e("e",c({name:ce,props:ue,emits:["update:show"],setup(e,{emit:o,slots:t}){let n,s=!1;const a=()=>{const o=e.show&&e.forbidClick;s!==o&&(s=o,s?(re||document.body.classList.add("van-toast--unclickable"),re++):re&&(re--,re||document.body.classList.remove("van-toast--unclickable")))},r=e=>o("update:show",e),c=()=>{e.closeOnClick&&r(!1)},i=()=>clearTimeout(n),u=()=>{const{icon:o,type:t,iconSize:n,iconPrefix:s,loadingType:l}=e;return o||"success"===t||"fail"===t?d(M,{name:o||t,size:n,class:ie("icon"),classPrefix:s},null):"loading"===t?d(X,{class:ie("loading"),size:n,type:l},null):void 0},p=()=>{const{type:o,message:n}=e;return t.message?d("div",{class:ie("text")},[t.message()]):v(n)&&""!==n?"html"===o?d("div",{key:0,class:ie("text"),innerHTML:String(n)},null):d("div",{class:ie("text")},[n]):void 0};return l((()=>[e.show,e.forbidClick]),a),l((()=>[e.show,e.type,e.message,e.duration]),(()=>{i(),e.show&&e.duration>0&&(n=setTimeout((()=>{r(!1)}),e.duration))})),g(a),O(a),()=>d(ae,x({class:[ie([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:i,"onUpdate:show":r},S(e,de)),{default:()=>[u(),p()]})}}));let ve=[],me=!1,ye=p({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1});const fe=new Map;function ge(e){return P(e)?e:{message:e}}function he(){const{instance:e,unmount:o}=function(e){const o=I(e),t=document.createElement("div");return document.body.appendChild(t),{instance:o.mount(t),unmount(){o.unmount(),document.body.removeChild(t)}}}({setup(){const e=r(""),{open:o,state:t,close:n,toggle:s}=function(){const e=B({show:!1}),o=o=>{e.show=o},t=t=>{p(e,t,{transitionAppear:!0}),o(!0)},n=()=>o(!1);return A({open:t,close:n,toggle:o}),{open:t,close:n,state:e,toggle:o}}(),a=()=>{};return l(e,(e=>{t.message=e})),j().render=()=>d(pe,x(t,{onClosed:a,"onUpdate:show":s}),null),{open:o,close:n,message:e}}});return e}function we(e={}){if(!z)return{};const o=function(){if(!ve.length||me){const e=he();ve.push(e)}return ve[ve.length-1]}(),t=ge(e);return o.open(p({},ye,fe.get(t.type||ye.type),t)),o}const ke=e=>o=>we(p({type:e},ge(o)));e("s",ke("loading")),e("d",ke("success")),e("b",ke("fail")),e("c",(e=>{ve.length&&(e?(ve.forEach((e=>{e.close()})),ve=[]):ve[0].close())}))}}}));
