System.register(["./index-legacy-6ae413af.js","./index-legacy-5cfddaf1.js","./use-route-legacy-a96d7801.js"],(function(e,o){"use strict";var t,n,a,s,l,r,c,i,u,d,v,p,m,y,f,h,w,I,b,x,k,O,g,S,z,C,B,A,P,j,L,E,R,T,D,H;return{setters:[e=>{t=e.Q,n=e.O,a=e.P,s=e.z,l=e.a7,r=e.r,c=e.d,i=e.D,u=e.c,d=e.a8,v=e.e,p=e.s,m=e.X,y=e.a0,f=e.b,h=e.A,w=e.U,I=e.y,b=e.a9,x=e.F,k=e.B,O=e.m},e=>{g=e.n,S=e.t,z=e.u,C=e.v,B=e.p,A=e.c,P=e.g,j=e.w,L=e.b,E=e.P,R=e.H,T=e.I},e=>{D=e.a,H=e.c}],execute:function(){let o=2e3;const $={show:Boolean,zIndex:g,overlay:S,duration:g,teleport:[String,Object],lockScroll:S,lazyRender:S,beforeClose:Function,overlayStyle:Object,overlayClass:z,transitionAppear:Boolean,closeOnClickOverlay:S};let F=0;const N="van-overflow-hidden";function K(e){const o=r(!1);return s(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}const[Q,U]=A("overlay"),V={show:Boolean,zIndex:g,duration:g,className:z,lockScroll:S,lazyRender:S,customStyle:Object};var X=c({name:Q,props:V,setup(e,{slots:o}){const t=r(),n=K((()=>e.show||!e.lazyRender))((()=>{var n;const a=v(P(e.zIndex),e.customStyle);return p(e.duration)&&(a.animationDuration=`${e.duration}s`),m(u("div",{ref:t,style:a,class:[U(),e.className]},[null==(n=o.default)?void 0:n.call(o)]),[[y,e.show]])}));return i("touchmove",(o=>{e.lockScroll&&B(o,!0)}),{target:t}),()=>u(d,{name:"van-fade",appear:!0},{default:n})}});const Y=j(X),q=v({},$,{round:Boolean,position:L("center"),closeIcon:L("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:L("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[G,J]=A("popup");var M=c({name:G,inheritAttrs:!1,props:q,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:c,attrs:v,slots:g}){let S,z;const A=r(),P=r(),j=K((()=>e.show||!e.lazyRender)),L=f((()=>{const o={zIndex:A.value};return p(e.duration)&&(o["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`),o})),$=()=>{S||(S=!0,A.value=void 0!==e.zIndex?+e.zIndex:++o,c("open"))},Q=()=>{S&&H(e.beforeClose,{done(){S=!1,c("close"),c("update:show",!1)}})},U=o=>{c("clickOverlay",o),e.closeOnClickOverlay&&Q()},V=()=>{if(e.overlay)return u(Y,{show:e.show,class:e.overlayClass,zIndex:A.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:U},{default:g["overlay-content"]})},X=e=>{c("clickCloseIcon",e),Q()},q=()=>{if(e.closeable)return u(T,{role:"button",tabindex:0,name:e.closeIcon,class:[J("close-icon",e.closeIconPosition),R],classPrefix:e.iconPrefix,onClick:X},null)};let G;const M=()=>{G&&clearTimeout(G),G=setTimeout((()=>{c("opened")}))},W=()=>c("closed"),Z=e=>c("keydown",e),_=j((()=>{var o;const{round:t,position:n,safeAreaInsetTop:a,safeAreaInsetBottom:s}=e;return m(u("div",O({ref:P,style:L.value,role:"dialog",tabindex:0,class:[J({round:t,[n]:n}),{"van-safe-area-top":a,"van-safe-area-bottom":s}],onKeydown:Z},v),[null==(o=g.default)?void 0:o.call(g),q()]),[[y,e.show]])})),ee=()=>{const{position:o,transition:t,transitionAppear:n}=e;return u(d,{name:t||("center"===o?"van-fade":`van-popup-slide-${o}`),appear:n,onAfterEnter:M,onAfterLeave:W},{default:_})};return s((()=>e.show),(e=>{e&&!S&&($(),0===v.tabindex&&k((()=>{var e;null==(e=P.value)||e.focus()}))),!e&&S&&(S=!1,c("close"))})),D({popupRef:P}),function(e,o){const r=C(),c=o=>{r.move(o);const t=r.deltaY.value>0?"10":"01",n=l(o.target,e.value),{scrollHeight:a,offsetHeight:s,scrollTop:c}=n;let i="11";0===c?i=s>=a?"00":"01":c+s>=a&&(i="10"),"11"===i||!r.isVertical()||parseInt(i,2)&parseInt(t,2)||B(o,!0)},i=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",c,{passive:!1}),F||document.body.classList.add(N),F++},u=()=>{F&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",c),F--,F||document.body.classList.remove(N))},d=()=>o()&&u();t((()=>o()&&i())),n(d),a(d),s(o,(e=>{e?i():u()}))}(P,(()=>e.show&&e.lockScroll)),i("popstate",(()=>{e.closeOnPopstate&&(Q(),z=!1)})),h((()=>{e.show&&$()})),w((()=>{z&&(c("update:show",!0),z=!1)})),n((()=>{e.show&&e.teleport&&(Q(),z=!0)})),I(E,(()=>e.show)),()=>e.teleport?u(b,{to:e.teleport},{default:()=>[V(),ee()]}):u(x,null,[V(),ee()])}});e("P",j(M))}}}));
