System.register(["./index-legacy-6ae413af.js","./index-legacy-5cfddaf1.js","./index-legacy-5a1d6b8a.js"],(function(e,t){"use strict";var a,s,n,r,i,l,o,u,d,c,h,v,g,p,f,m;return{setters:[e=>{a=e.d,s=e.r,n=e.R,r=e.x,i=e.z,l=e.D,o=e.c,u=e.B},e=>{d=e.c,c=e.m,h=e.n,v=e.v,g=e.i,p=e.p,f=e.w},e=>{m=e.L}],execute:function(){var t=document.createElement("style");t.textContent=":root{--van-pull-refresh-head-height: 1.33333rem;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: .42667rem}.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;transition-property:transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(t);const[x,D,T]=d("pull-refresh"),y=["pulling","loosing","success"],z={disabled:Boolean,modelValue:Boolean,headHeight:c(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:h,successDuration:c(500),animationDuration:c(300)};var _=a({name:x,props:z,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let d;const c=s(),h=s(),f=n(c),x=r({status:"normal",distance:0,duration:0}),z=v(),_=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},H=()=>"loading"!==x.status&&"success"!==x.status&&!e.disabled,w=(a,s)=>{const n=+(e.pullDistance||e.headHeight);x.distance=a,x.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:x.status,distance:a})},S=()=>{const{status:t}=x;return"normal"===t?"":e[`${t}Text`]||T(t)},V=()=>{const{status:e,distance:t}=x;if(a[e])return a[e]({distance:t});const s=[];return y.includes(e)&&s.push(o("div",{class:D("text")},[S()])),"loading"===e&&s.push(o(m,{class:D("loading")},{default:S})),s},b=e=>{d=0===g(f.value),d&&(x.duration=0,z.start(e))},$=e=>{H()&&b(e)},j=()=>{d&&z.deltaY.value&&H()&&(x.duration=+e.animationDuration,"loosing"===x.status?(w(+e.headHeight,!0),t("update:modelValue",!0),u((()=>t("refresh")))):w(0))};return i((()=>e.modelValue),(t=>{x.duration=+e.animationDuration,t?w(+e.headHeight,!0):a.success||e.successText?(x.status="success",setTimeout((()=>{w(0)}),+e.successDuration)):w(0,!1)})),l("touchmove",(t=>{if(H()){d||b(t);const{deltaY:a}=z;z.move(t),d&&a.value>=0&&z.isVertical()&&(p(t),w((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}}),{target:h}),()=>{var e;const t={transitionDuration:`${x.duration}ms`,transform:x.distance?`translate3d(0,${x.distance}px, 0)`:""};return o("div",{ref:c,class:D()},[o("div",{ref:h,class:D("track"),style:t,onTouchstartPassive:$,onTouchend:j,onTouchcancel:j},[o("div",{class:D("head"),style:_()},[V()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",f(_))}}}));
