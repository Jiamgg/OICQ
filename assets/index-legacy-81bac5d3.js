System.register(["./index-legacy-637d5e1f.js","./index-legacy-9f6dbbc6.js"],(function(e,o){"use strict";var a,r,n,i,l,t,c,d,v,s,g,u,m,f,h,p,b,y,z,_,x;return{setters:[e=>{a=e.c,r=e.e,n=e.n,i=e.t,l=e.b,t=e.I,c=e.w},e=>{d=e.d,v=e.r,s=e.g,g=e.b,u=e.s,m=e.z,f=e.N,h=e.P,p=e.A,b=e.B,y=e.c,z=e.X,_=e.ad,x=e.m}],execute:function(){var o=document.createElement("style");o.textContent=":root{--van-image-placeholder-text-color: var(--van-text-color-2);--van-image-placeholder-font-size: var(--van-font-size-md);--van-image-placeholder-background: var(--van-background);--van-image-loading-icon-size: .85333rem;--van-image-loading-icon-color: var(--van-gray-4);--van-image-error-icon-size: .85333rem;--van-image-error-icon-color: var(--van-gray-4)}.van-image{position:relative;display:inline-block}.van-image--round{overflow:hidden;border-radius:var(--van-radius-max)}.van-image--round .van-image__img{border-radius:inherit}.van-image--block{display:block}.van-image__img,.van-image__error,.van-image__loading{display:block;width:100%;height:100%}.van-image__error,.van-image__loading{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--van-image-placeholder-text-color);font-size:var(--van-image-placeholder-font-size);background:var(--van-image-placeholder-background)}.van-image__loading-icon{color:var(--van-image-loading-icon-color);font-size:var(--van-image-loading-icon-size)}.van-image__error-icon{color:var(--van-image-error-icon-color);font-size:var(--van-image-error-icon-size)}\n",document.head.appendChild(o);const[w,k]=a("image"),S={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:n,height:n,radius:n,lazyLoad:Boolean,iconSize:n,showError:i,errorIcon:l("photo-fail"),iconPrefix:String,showLoading:i,loadingIcon:l("photo")};var L=d({name:w,props:S,emits:["load","error"],setup(e,{emit:o,slots:a}){const n=v(!1),i=v(!0),l=v(),{$Lazyload:c}=s().proxy,d=g((()=>{const o={width:r(e.width),height:r(e.height)};return u(e.radius)&&(o.overflow="hidden",o.borderRadius=r(e.radius)),o}));m((()=>e.src),(()=>{n.value=!1,i.value=!0}));const w=e=>{i.value&&(i.value=!1,o("load",e))},S=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:l.value,enumerable:!0}),w(e)},L=e=>{n.value=!0,i.value=!1,o("error",e)},j=(o,a,r)=>r?r():y(t,{name:o,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),I=()=>{if(n.value||!e.src)return;const o={alt:e.alt,class:k("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?z(y("img",x({ref:l},o),null),[[_("lazy"),e.src]]):y("img",x({ref:l,src:e.src,onLoad:w,onError:L},o),null)},P=({el:e})=>{const o=()=>{e===l.value&&i.value&&S()};l.value?o():b(o)},E=({el:e})=>{e!==l.value||n.value||L()};return c&&f&&(c.$on("loaded",P),c.$on("error",E),h((()=>{c.$off("loaded",P),c.$off("error",E)}))),p((()=>{b((()=>{var o;(null==(o=l.value)?void 0:o.complete)&&!e.lazyLoad&&S()}))})),()=>{var o;return y("div",{class:k({round:e.round,block:e.block}),style:d.value},[I(),i.value&&e.showLoading?y("div",{class:k("loading")},[j(e.loadingIcon,k("loading-icon"),a.loading)]):n.value&&e.showError?y("div",{class:k("error")},[j(e.errorIcon,k("error-icon"),a.error)]):void 0,null==(o=a.default)?void 0:o.call(a)])}}});e("I",c(L))}}}));
